jQuery(document).ready(function(e){e(document).on("click touchstart",".wppizza-add-to-cart,.wppizza-remove-from-cart,.wppizza-cart-refresh",function(t){if(e(".wppizza-open").length>0){t.preventDefault();var n=e(this);if(n.hasClass("wppizza-add-to-cart")){type="add"}if(n.hasClass("wppizza-remove-from-cart")){type="remove"}if(n.hasClass("wppizza-cart-refresh")){type="refresh"}n.fadeOut(100).fadeIn(400);e(".wppizza-order").prepend('<div id="wppizza-loading"></div>');jQuery.post(wppizza.ajaxurl,{action:"wppizza_json",vars:{type:type,id:n.attr("id")}},function(t){e(".wppizza-order").html(t.itemsajax);e(".wppizza-cart-button").html(t.button);e(".wppizza-cart-nocheckout").html(t.nocheckout);e(".wppizza-cart-total-items-label").html(t.order_value.total_price_items.lbl);e(".wppizza-cart-total-items-value").html(t.currency+" "+t.order_value.total_price_items.val);if(t.nocheckout==""){e(".wppizza-cart-discount-label").html(t.order_value.discount.lbl);if(t.order_value.discount.val!=""){e(".wppizza-cart-discount-value").html(t.currency+" "+t.order_value.discount.val)}else{e(".wppizza-cart-discount-value").html(t.order_value.discount.val)}e(".wppizza-cart-delivery-charges-label").html(t.order_value.delivery_charges.lbl);if(t.order_value.delivery_charges.val!=""){e(".wppizza-cart-delivery-charges-value").html(t.currency+" "+t.order_value.delivery_charges.val)}else{e(".wppizza-cart-delivery-charges-value").html(t.order_value.delivery_charges.val)}e(".wppizza-cart-tax-label").html(t.order_value.item_tax.lbl);e(".wppizza-cart-tax-value").html(t.currency+" "+t.order_value.item_tax.val);e(".wppizza-cart-total-label").html(t.order_value.total.lbl);e(".wppizza-cart-total-value").html(t.currency+" "+t.order_value.total.val)}if(t.nocheckout!=""||t.items.length==0){e(".wppizza-cart-discount-label").html("");e(".wppizza-cart-discount-value").html("");e(".wppizza-cart-delivery-charges-label").html("");e(".wppizza-cart-delivery-charges-value").html("");e(".wppizza-cart-total-label").html("");e(".wppizza-cart-total-value").html("");e(".wppizza-cart-tax-label").html("");e(".wppizza-cart-tax-value").html("")}if(t.items.length==0){e(".wppizza-cart-total-items-label").html("");e(".wppizza-cart-total-items-value").html("")}},"json").error(function(t,n,r){alert("error : "+r);console.log(t.responseText);e(".wppizza-order #wppizza-loading").remove()})}});e(document).on("click touchstart",".wppizza-add-to-cart",function(t){if(e(".wppizza-open").length==0&&e(".wppizza-cart").length>0){alert(wppizza.msg.closed)}});e(document).on("click touchstart","#wppizza-order-pickup-sel,#wppizza-order-pickup-js",function(t){if(e(".wppizza-open").length>0&&e(".wppizza-cart").length>0||e("#wppizza-send-order").length>0){var n=e(this);var r=n.is(":checked");if(n.attr("id")=="wppizza-order-pickup-js"&&r==true){alert(wppizza.msg.pickup)}jQuery.post(wppizza.ajaxurl,{action:"wppizza_json",vars:{type:"order-pickup",value:r}},function(e){window.location.href=window.location.href},"text").error(function(e,t,n){alert("error : "+n);console.log(e.responseText)})}});e(document).on("click touchstart",".wppizza-trigger-choose",function(t){if(e(".wppizza-open").length>0&&e(".wppizza-cart").length>0){alert(wppizza.msg.choosesize)}});e(document).on("click touchstart",".wppizza-trigger-click",function(t){if(e(".wppizza-open").length>0&&e(".wppizza-cart").length>0){var n=this.id.substr(16);target=e("#wppizza-"+n+"");target.trigger("click")}});e(document).on("click touchstart",".wppizza-ordernow",function(t){e("#wppizza-send-order").validate({submitHandler:function(t){if(e("input[name='wppizza-gateway']").length>0){var n=e("input[name='wppizza-gateway']");if(n.is(":radio")){var r=e("input[name='wppizza-gateway']:checked")}else{var r=n}}else{var r=e("select[name='wppizza-gateway']")}var i=r.val();if(i=="cod"){var s=e("#wppizza-send-order");s.prepend('<div id="wppizza-loading"></div>');jQuery.post(wppizza.ajaxurl,{action:"wppizza_json",vars:{type:"sendorder",data:s.serialize()}},function(t){e("#wppizza-send-order #wppizza-loading").remove();s.html('<div id="wppizza-order-received">'+t+"</div>")},"html").error(function(t,n,r){e("#wppizza-send-order #wppizza-loading").remove();alert("error : "+r);console.log(t.responseText)});return false}else{t.submit()}}})});jQuery.extend(jQuery.validator.messages,{required:wppizza.validate_error.required,email:wppizza.validate_error.email});e(document).on("click touchstart",".wppizza-cart-button>a",function(e){e.preventDefault();e.stopPropagation();var t=jQuery(this).attr("href");window.location.href=t})})